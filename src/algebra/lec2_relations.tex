\begin{definition}
    Relacja to trójka $\sR = (X, \gr\sR, Y)$, gdzie $X$ i $Y$ są zbiorami, a $\gr \sR \subset X \times Y$.
\end{definition}

Zbiór $X$ nazywamy \vocab{naddziedziną}, $Y$ \vocab{zapasem}, $\gr \sR$ to \vocab{wykres} relacji. Piszemy, że $x \sR y$, jeśli $(x, y) \in \gr\sR$. \vocab{Dziedzina} relacji $\sR$ to zbiór
$$ D_\sR = \{x \in X : \exists y \in Y : x \sR y\}, $$
a jej \vocab{przeciwdziedzina} to zbiór
$$ \rotatebox[origin=c]{180}{$D$}_\sR = \{y \in Y : \exists x \in X : x \sR y\}. $$

\begin{definition}
    Relacja odwrotna do relacji $\sR = (X, \gr\sR, Y)$ to taka relacja $\sR^{-1} = (Y, \gr\sR^{-1}, X)$, że
    $$ \gr \sR^{-1} = \{(y, x) \in Y \times X : (x, y) \in \gr\sR\}. $$
\end{definition}

\begin{definition}
    Złożeniem relacji $\sR = (X, \gr\sR, Y)$ z relacją $\sS = (Y, \gr\sS, Z)$ nazywamy relację
    $$ \sR \circ \sS = (X, \gr(\sR \circ \sS), Z), $$
    gdzie
    $$ \gr(\sR \circ \sS) = \{(x, z) \in X \times Z : \exists y \in Y : x \sR y \wedge y \sS z\}. $$
\end{definition}

\begin{definition}[rodzaje relacji]
    Relacja $\sR = (X, \gr\sR, X)$ jest:
    \begin{itemize}
        \item \vocab{zwrotna} $\iff \forall x\in X : x \sR x$,
        \item \vocab{symetryczna} $\iff \forall x, y \in X : x \sR y \implies y \sR x$,
        \item \vocab{antysymetryczna} $\iff \forall x, y \in X : x \sR y \wedge y \sR x \implies x = y$,
        \item \vocab{asymetryczna} $\iff \forall x, y \in X : x \sR y \implies \neg y \sR x$,
        \item \vocab{przechodnia} $\iff \forall x, y, z \in X : x \sR y \wedge y \sR z \implies x \sR z$,
        \item \vocab{spójna} $\iff \forall x, y \in X : x \sR y \vee y \sR x \vee x = y$.
    \end{itemize}
\end{definition}

\begin{definition}
    Relacja równoważności to relacja $\sR = (X, \gr\sR, X)$, która jest zwrotna, przechodnia i symetryczna.
\end{definition}

\begin{definition}
    Jeżeli $(X, \sR)$ zbiorem z relacją równoważności, to dla każdego $x \in X$ klasą abstrakcji (klasą równoważności) tego elementu nazywamy zbiór
    $$ [x] = \{y \in X : x \sR y\}. $$
\end{definition}

\begin{definition}
    Zbiór ilorazowy relacji $\sR$ to zbiór klas abstrakcji tej relacji; przyjmujemy oznaczenie
    $$ X/\sR = \{[x] : x \in X\}. $$
\end{definition}

\begin{theorem}
    Niech $(X, \sR)$ będzie zbiorem z relacją równoważności. Wtedy
    $$ \forall x, y \in X : [x] \neq [y] \iff [x] \cap [y] = \emptyset . $$
\end{theorem}
\begin{proof}[Dowód wystarczalności]\renewcommand{\qedsymbol}{}
    Załóżmy przez sprzeczność, że $[x] \cap [y] \neq \emptyset$, a więc $\exists z \in X : x \sR z \wedge y \sR z$. Teraz weźmy dowolny element $a \in [x]$. Mamy więc $x \sR a$. Korzystając z symetryczności i przechodniości relacji $\sR$, mamy
    $$ a \sR x \wedge x \sR z \wedge z \sR y, $$
    $$ \therefore y \sR a. $$
    Z tego wynika, że $[x] \subset [y]$. Analogicznie (przyjmując na początku $a \in [y]$) dostaniemy, że $[y] \subset [x]$, wiec $[x] = [y]$, co jest sprzeczne z założeniem.
\end{proof}
\begin{proof}[Dowód konieczności]
    Załóżmy przez sprzeczność, że $[x] = [y]$. Wtedy $[x] \cap [y] = [x] \cap [x] = [x]$ nie może być zbiorem pustym, ponieważ ze zwrotności relacji $\sR$ wynika, że $x \sR x$, więc $[x]$ to zbiór przynajmniej jednoelementowy.
\end{proof}

Z powyższego twierdzenie wynika, że relacja równoważności w danym zbiorze $X$ dzieli ten zbiór na niepuste i rozłączne podzbiory, których suma daje cały zbiór $X$.

\subsection{Porządki}
\begin{definition}
    Porządek (częściowy) to relacja $\sR = (X, \gr\sR, X)$, która jest zwrotna, przechodnia i antysymetryczna. Zbiór $X$ nazywamy zbiorem (częściowo) uporządkowanym.
\end{definition}

\begin{definition}
    Porządek liniowy (totalny) to porządek, który jest spójny.
\end{definition}

Niech $(X, \preceq)$ będzie zbiorem z porządkiem częściowym. Wtedy \vocab{element największy} $\ol{M} \in X$ zbioru $X$ to taki element, że
$$ \forall x \in X : x \preceq \ol{M}, $$
a \vocab{element maksymalny} $M_{\max} \in X$ to taki element, że
$$ \forall x \in X : (M_{\max} \preceq x) \implies (M_{\max} = x). $$
Analogicznie definiujemy \vocab{element najmniejszy} $\ol{m} \in X$:
$$ \forall x \in X : \ol{m} \preceq x $$
oraz \vocab{element minimalny} $m_{\min} \in X$:
$$ \forall x \in X : x \preceq m_{\min} \implies (x = m_{\min}) $$

\begin{theorem}
    \label{t:uniq_greatest}
    Niech $(X, \preceq)$ będzie zbiorem z porządkiem częściowym. Jeśli w zbiorze $X$ istnieje element największy, to jest on jedyny.
\end{theorem}
\begin{proof}
    Załóżmy przeciwnie, że istnieją dwa elementy największe $M_1, M_2$. Z definicji zachodzi
    $$ M_1 \preceq M_2 $$
    oraz
    $$ M_2 \preceq M_1, $$
    co jest sprzeczne z antysymetrycznością porządków.
\end{proof}

\begin{theorem}
    Niech $(X, \preceq)$ będzie zbiorem z porządkiem częściowym. Jeśli $M \in X$ jest elementem największym zbioru $X$, to jest on jedynym elementem maksymalnym tego zbioru.
\end{theorem}
\begin{proof}
    Skoro $M$ jest elementem największym, to poprzednik implikacji w definicji elementu maksymalnego będzie prawdziwy tylko dla $x = M$, więc sama implikacja zawsze będzie prawdziwa.
\end{proof}

Oczywiście dwa powyższe twierdzenia są prawdziwe również odpowiednio dla elementów najmniejszych/minimalnych.

\begin{fact}
    \label{f:greatest=maximal}
    W zbiorach z porządkiem totalnym pojęcia elementu największego i maksymalnego oraz najmniejszego i minimalnego są tożsame ze sobą. Wynika to ze spójności porządków totalnych.
\end{fact}

Niech $(X, \preceq)$ będzie zbiorem uporządkowanym, a zbiór $A \subset X$ jego podzbiorem. Element $M \in X$ jest \vocab{majorantą} (ograniczeniem górnym) zbioru $A$ jeśli
$$ \forall x \in A : x \preceq M. $$
\vocab{Kresem górnym} (supremum) zbioru $A$ (w zbiorze $X$) jest element najmniejszy zbioru majorant. Oznaczamy go symbolem
$$\sup A.$$
Analogicznie definiujemy \vocab{minorantę} (ograniczenie dolne) $m \in X$ zbioru $A \subset X$:
$$ \forall x \in A : m \preceq x $$
oraz \vocab{kres dolny} (infimum) tego zbioru (jest nim element największy zbioru minorant), który oznaczamy symbolem
$$\inf A.$$

\begin{theorem}
    \label{t:greatest=sup}
    Niech $(X, \preceq)$ będzie zbiorem z porządkiem częściowym oraz $A \subset X$. Jeśli $A$ ma element największy, to jest on również supremum tego zbioru.
\end{theorem}
\begin{proof}
    Z definicji majoranty wynika, że element największy zbioru $A$ jest również jego majorantą. Każda majoranta $M \in X$ zbioru $A$ oczywiście jest ,,większa'' niż dowolny element zbioru $A$ (w tym również jego element największy $\ol{M}$), to znaczy
    $$ \forall M : \ol{M} \preceq M, $$
    z czego wynika, że $\ol{M}$ jest elementem najmniejszym zbioru majorant zbioru $A$, a więc supremum tego zbioru.
\end{proof}

\begin{corollary}
    \label{c:if_sup_out_then_no_greatest}
    Jeśli zbiór częściowo uporządkowany $X$ ma supremum, które nie należy do tego zbioru, to zbiór $X$ nie ma elementu największego.
\end{corollary}
\begin{proof}
    Ponieważ dowolny zbiór (na mocy twierdzenia \ref{t:uniq_greatest}) ma co najwyżej jedno supremum, to gdyby zbiór $X$ miał element największy, to na mocy twierdzenia \ref{t:greatest=sup} byłoby ono również supremum, które należy do zbioru $X$.
\end{proof}

Oczywiście dwa poprzednia twierdzenia są również prawdziwe odpowiednio dla elementów najmniejszych/infimów.

\begin{example}
    Weźmy zbiór liniowo uporządkowany $(\RR, \leq)$ oraz jego podzbiór $A = [0, 1) \subset \RR$. Zbiór majorant zbioru $A$ to przedział $[1, \infty)$, a jego najmniejszy element (a zarazem supremum zbioru $A$) to liczba $1$. Mamy więc
    $$ \sup A = 1. $$
    Liczba $1$ nie należy jednak do zbioru $A$, więc, na mocy wniosku \ref{c:if_sup_out_then_no_greatest}, element największy (a z faktu \ref{f:greatest=maximal} również maksymalny) nie istnieje.
\end{example}

\begin{example}
    Weźmy zbiór częściowo uporządkowany $(\CC, \preceq)$, gdzie zdefiniujemy
    $$ x \preceq y \iff \Re{x} \leq \Re{y} \wedge \Im{x} \leq \Im{y} $$
    oraz podzbiór $A \subset \CC$ taki, że
    $$ A = \{z : |z| \leq 1\}. $$

    Znajdź zbiór majorant i elementów maksymalnych. Stwierdź, czy istnieje supremum i element największy.
\end{example}
\begin{solution}
    Na rysunku zaznaczono zbiór $A$ (\textcolor{AccColor1}{$\blacksquare$}), zbiór majorant $M$ zbioru $A$ (\textcolor{AccColor2}{$\blacksquare$}), supremum zbioru~$A$ (\textcolor{AccColor3}{$\blacksquare$}) oraz zbiór elementów maksymalnych (\textcolor{AccColor4}{$\blacksquare$}). Na mocy wniosku \ref{c:if_sup_out_then_no_greatest} element największy nie istnieje.

    \begin{center}
        \begin{tikzpicture}
            \tkzInit[xmin=-1.1, xmax=3.7, ymin=-1.1, ymax=2.7]
            \tkzDefPoints{0/0/O,1/0/A,0/1/B}
            \tkzDefPoints{1/1/M_1,4/1/M_2,4/3/M_3,1/3/M_4}
            \tkzGrid
            \tkzDrawX[label=$\Re$,thick] \tkzDrawY[label=$\Im$,thick]
            \tkzClip
            \tkzDrawCircle[line width=0pt, fill=AccColor1, opacity=.3](O,A)
            \tkzDrawPolygon[line width=0pt, fill=AccColor2, opacity=.3](M_1,M_2,M_3,M_4)
            \tkzDrawPoint[color=black, fill=AccColor3, size=4pt](M_1)
            \tkzDrawArc[color=AccColor4, line width=2pt](O,A)(B)
        \end{tikzpicture}
    \end{center}
\end{solution}

\begin{definition}
    Łańcuch to taki podzbiór $C \subset X$, że $(X, \preceq)$ jest zbiorem z porządkiem częściowym, a $(C, \preceq)$ jest zbiorem z porządkiem liniowym.
\end{definition}

\begin{definition}
    Silny porządek to relacja, która jest przechodnia i asymetryczna. Silnie uporządkowany zbiór $X$ oznaczamy przez $(X, \prec)$.
\end{definition}